# Web-Library - Техническая документация

## 1. Введение

**Название продукта:** Web-Library

**Контекст:** Web-Library — это веб-приложение, реализованное на Java Spring Boot, которое функционирует как цифровая библиотека. Продукт позволяет аутентифицированным пользователям просматривать каталог книг, управлять своей личной подборкой понравившихся книг, а также просматривать и оставлять рецензии. Администраторы системы обладают полными правами на управление всеми сущностями системы.

### Границы проекта

**Включено:**
- Функционал аутентификации и авторизации пользователей
- Добавление книг в личный список "Понравившиеся"
- Просмотр и оставление рецензий
- Административная панель для управления контентом

**Исключено:**
- Чтение полного текста книг онлайн
- Сложная система ролей (только USER и ADMIN)
- Система бронирования или скачивания физических книг

## 2. Требования пользователя

### 2.1. Программные интерфейсы

**Технологический стек:**
- **Backend:** Java 17, Spring Boot 3.1.4
- **База данных:** Реляционная СУБД (Spring Data JPA, Hibernate)
- **Безопасность:** Spring Security (аутентификация, авторизация, CSRF-защита)
- **Шаблонизатор:** Thymeleaf
- **Валидация:** Bean Validation
- **Тестирование:** JUnit, Mockito

### 2.2. Интерфейс пользователя

**Основные страницы:**

| Страница | URL | Доступ |
|----------|-----|---------|
| Аутентификация | `/auth/login`, `/auth/registration` | Все |
| Главная страница | `/library` | Все |
| Детали книги | `/library/{id}` | Все |
| Профиль пользователя | `/user/profile` | USER |
| Административная панель | `/admin/**` | ADMIN |

**Таблица "Действие-Реакция":**

| Действие пользователя | Реакция системы |
|----------------------|-----------------|
| Нажатие "Like" на странице книги | Проверка авторизации, добавление в `liked_books`, обновление статуса кнопки |
| Отправка рецензии | Валидация текста, сохранение в БД, обновление списка рецензий |
| Редактирование книги администратором | Валидация данных, обновление сущности Book, перенаправление |

### 2.3. Характеристики пользователей

| Группа пользователей | Права доступа |
|---------------------|---------------|
| **Анонимный пользователь** | Просмотр каталога, регистрация/вход |
| **Аутентифицированный пользователь (USER)** | Просмотр каталога, рецензии, лайки, профиль |
| **Администратор (ADMIN)** | Полный CRUD доступ ко всем данным |

### 2.4. Предположения и зависимости

- Зависимость от экосистемы Spring Boot и корректной настройки БД
- Вся бизнес-логика выполняется на стороне сервера
- Интерфейс администратора для технически подготовленных пользователей
- Функционал лайков и рецензий привязан к авторизованным сессиям

## 3. Системные требования

### 3.1. Функциональные требования

#### FR-01: Управление аутентификацией и авторизацией
- **FR-01.01:** Регистрация нового пользователя (`/auth/registration`, POST)
- **FR-01.02:** Аутентификация пользователя (`/auth/login`, POST)
- **FR-01.03:** Разграничение доступа на основе ролей

#### FR-02: Просмотр и управление каталогом книг
- **FR-02.01:** Просмотр списка книг (`/library`, GET)
- **FR-02.02:** Просмотр детальной информации о книге (`/library/{id}`, GET)

#### FR-03: Функционал пользователя
- **FR-03.01:** Управление списком "Понравившиеся"
- **FR-03.02:** Создание рецензий (`/reviews/create`, POST)
- **FR-03.03:** Просмотр профиля (`/user/profile`, GET)

#### FR-04: Административное управление (CRUD)
- **FR-04.01:** Управление сущностями Book (`/admin/books/**`)
- **FR-04.02:** Управление сущностями Person (`/admin/people/**`)
- **FR-04.03:** Управление сущностями Author и Genre

### 3.2. Нефункциональные требования

#### 3.2.1. Атрибуты качества

| Атрибут | Важность | Метрики |
|---------|----------|---------|
| **Безопасность** | Критически важна | Отсутствие уязвимостей, защита от CSRF, код-ревью |
| **Надежность** | Высокая | Время безотказной работы, корректная обработка исключений |
| **Удобство сопровождения** | Высокая | Структурированность кода, наличие модульных тестов |
| **Производительность** | Средняя | Время отклика сервера, пагинация для больших списков |

## Скриншоты приложения

### Главная страница
![Главная страница]("C:\Users\Artem\IdeaProjects\web-library\images\admin-panel.png")

### Страница книги
![Страница книги](images/book-details.png)

### Профиль пользователя
![Профиль пользователя](images/user-profile.png)

### Административная панель
![Административная панель](images/admin-panel.png)