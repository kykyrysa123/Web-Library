2025-04-10 13:31:24.056 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m34s673ms864Âµs100ns).
2025-04-10 13:31:38.899 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-10 13:31:38.900 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-10 13:31:38.920 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-10 13:31:38.938 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-10 13:31:38.957 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-10 13:31:38.976 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-10 13:31:38.993 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-10 13:31:39.021 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-10 13:31:39.052 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-10 13:31:39.089 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-10 13:31:39.114 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-10 13:31:39.242 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-10 13:31:39.273 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-10 13:31:39.277 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-10 15:06:58.567 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-04-10 15:06:58.630 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Starting WebLibraryApplication using Java 17.0.14 with PID 19556 (C:\Users\Artem\IdeaProjects\web-library\target\classes started by Artem in C:\Users\Artem\IdeaProjects\web-library)
2025-04-10 15:06:58.631 [restartedMain] DEBUG c.e.weblibrary.WebLibraryApplication - Running with Spring Boot v3.2.4, Spring v6.1.5
2025-04-10 15:06:58.632 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - The following 1 profile is active: "C:\Users\Artem\IdeaProjects\web-library"
2025-04-10 15:06:58.696 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-10 15:06:58.697 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-10 15:06:59.738 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-10 15:06:59.838 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 5 JPA repository interfaces.
2025-04-10 15:07:00.577 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 228 (http)
2025-04-10 15:07:00.588 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-228"]
2025-04-10 15:07:00.589 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-10 15:07:00.589 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-10 15:07:00.651 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-10 15:07:00.651 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1954 ms
2025-04-10 15:07:00.687 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-10 15:07:01.006 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28d012f8
2025-04-10 15:07:01.009 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-10 15:07:01.014 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/weblibrary'
2025-04-10 15:07:01.144 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-10 15:07:01.242 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-10 15:07:01.282 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-10 15:07:01.487 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-10 15:07:01.550 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-10 15:07:01.550 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3bcdd045) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2b698ee1)
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7092933a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7c32823b)
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@29a83a00) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4e51b752)
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2a3ef6e1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@42f58ac7)
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2a65d0a3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@694d199a)
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@341973ac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5ad4645a)
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5e30476b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5f3004fe)
2025-04-10 15:07:01.562 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@204b88a7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5944ce40)
2025-04-10 15:07:01.563 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@593c11c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5adb22a4)
2025-04-10 15:07:02.348 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-10 15:07:02.359 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-10 15:07:02.383 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-10 15:07:02.385 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-10 15:07:02.387 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-10 15:07:02.388 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-10 15:07:02.390 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-10 15:07:02.390 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-10 15:07:02.392 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-10 15:07:02.392 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-10 15:07:02.394 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-10 15:07:02.394 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-10 15:07:02.401 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-10 15:07:02.406 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-10 15:07:02.411 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-10 15:07:02.416 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-10 15:07:02.420 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-10 15:07:02.428 [restartedMain] DEBUG org.hibernate.SQL - 
    create table author (
        birth_date date,
        death_date date,
        rating float(53),
        id bigint not null auto_increment,
        biography varchar(255),
        genre_specialization varchar(255),
        name varchar(255) not null,
        patronymic varchar(255),
        surname varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-10 15:07:02.459 [restartedMain] DEBUG org.hibernate.SQL - 
    create table book (
        pages integer,
        publish_date date,
        rating float(53),
        author_id bigint not null,
        id bigint not null auto_increment,
        description varchar(1000),
        genre varchar(255) not null,
        image_url varchar(255),
        isbn varchar(255),
        language varchar(255) not null,
        publisher varchar(255) not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-10 15:07:02.525 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favourites (
        book_id bigint not null,
        user_id bigint not null
    ) engine=InnoDB
2025-04-10 15:07:02.555 [restartedMain] DEBUG org.hibernate.SQL - 
    create table log (
        id bigint not null auto_increment,
        file_path varchar(255),
        status varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-10 15:07:02.585 [restartedMain] DEBUG org.hibernate.SQL - 
    create table reviews (
        rating float(53),
        review_date date,
        book_id bigint not null,
        id bigint not null auto_increment,
        user bigint not null,
        review_text varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-10 15:07:02.619 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user (
        age integer,
        last_login date,
        registration_date date,
        id bigint not null auto_increment,
        country varchar(255),
        email varchar(255),
        name varchar(255),
        password_hash varchar(255),
        patronymic varchar(255),
        sex varchar(255),
        subscription varchar(255),
        surname varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-10 15:07:02.656 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint UK_ehpdfjpu1jm3hijhj4mm0hx9h unique (isbn)
2025-04-10 15:07:02.683 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint FKklnrv3weler2ftkweewlky958 
       foreign key (author_id) 
       references author (id)
2025-04-10 15:07:02.772 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKfjwtcjnlme02uvw9b6v1645fr 
       foreign key (book_id) 
       references book (id)
2025-04-10 15:07:02.858 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKay2ai0s7hv0w0o87xt9rs7ava 
       foreign key (user_id) 
       references user (id)
2025-04-10 15:07:02.956 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKgiq1y1159fhcjfigdijlsvdx2 
       foreign key (book_id) 
       references book (id)
2025-04-10 15:07:03.041 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKdiald56kmyvcolq4vl168wqiq 
       foreign key (user) 
       references user (id)
2025-04-10 15:07:03.135 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-10 15:07:03.398 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-10 15:07:03.920 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-10 15:07:04.460 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-10 15:07:04.497 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-228"]
2025-04-10 15:07:04.523 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 228 (http) with context path ''
2025-04-10 15:07:04.537 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Started WebLibraryApplication in 6.688 seconds (process running for 7.667)
2025-04-10 15:07:23.339 [http-nio-228-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-10 15:07:23.339 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-10 15:07:23.339 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-10 15:07:23.359 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.createLogFile() with arguments: []
2025-04-10 15:07:23.364 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.createLogFile() with result: java.util.concurrent.CompletableFuture@80a93c0[Not completed]
2025-04-10 15:07:23.364 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.createLogFile() executed in 5 ms
2025-04-10 15:07:23.385 [ForkJoinPool.commonPool-worker-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        log
        (file_path, status) 
    values
        (?, ?)
2025-04-10 15:07:26.851 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-10 15:07:26.876 [http-nio-228-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-10 15:07:26.892 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@1ff80e30,[]>
2025-04-10 15:07:26.892 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 41 ms
2025-04-10 15:07:31.006 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-10 15:07:31.006 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-10 15:07:31.006 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@7c15c081,[]>
2025-04-10 15:07:31.006 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 0 ms
2025-04-10 15:07:32.188 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-10 15:07:32.188 [http-nio-228-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-10 15:07:32.188 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@35c647c1,[]>
2025-04-10 15:07:32.188 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 0 ms
2025-04-10 15:07:33.039 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-10 15:07:33.039 [http-nio-228-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-10 15:07:33.044 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@4387764c,[]>
2025-04-10 15:07:33.044 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 5 ms
2025-04-10 15:07:33.424 [ForkJoinPool.commonPool-worker-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-10 15:07:33.438 [ForkJoinPool.commonPool-worker-1] DEBUG org.hibernate.SQL - 
    update
        log 
    set
        file_path=?,
        status=? 
    where
        id=?
2025-04-10 15:07:34.003 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-10 15:07:34.003 [http-nio-228-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-10 15:07:34.003 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@71747f88,[]>
2025-04-10 15:07:34.003 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 0 ms
2025-04-10 15:08:49.325 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-10 15:08:49.326 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-10 15:08:49.347 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-10 15:08:49.365 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-10 15:08:49.389 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-10 15:08:49.412 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-10 15:08:49.427 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-10 15:08:49.451 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-10 15:08:49.475 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-10 15:08:49.498 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-10 15:08:49.524 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-10 15:08:49.601 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-10 15:08:49.637 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-10 15:08:49.660 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
