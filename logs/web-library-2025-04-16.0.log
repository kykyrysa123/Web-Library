2025-04-16 14:06:45.376 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-04-16 14:06:45.426 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Starting WebLibraryApplication using Java 17.0.14 with PID 28548 (C:\Users\Artem\IdeaProjects\web-library\target\classes started by Artem in C:\Users\Artem\IdeaProjects\web-library)
2025-04-16 14:06:45.427 [restartedMain] DEBUG c.e.weblibrary.WebLibraryApplication - Running with Spring Boot v3.2.4, Spring v6.1.5
2025-04-16 14:06:45.427 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - The following 1 profile is active: "C:\Users\Artem\IdeaProjects\web-library"
2025-04-16 14:06:45.475 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-16 14:06:45.475 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-16 14:06:46.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-16 14:06:46.517 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2025-04-16 14:06:47.139 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 228 (http)
2025-04-16 14:06:47.147 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-228"]
2025-04-16 14:06:47.149 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-16 14:06:47.149 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-16 14:06:47.203 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-16 14:06:47.204 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1727 ms
2025-04-16 14:06:47.254 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-16 14:06:47.712 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d34beae
2025-04-16 14:06:47.715 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-16 14:06:47.724 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/weblibrary'
2025-04-16 14:06:47.857 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-16 14:06:47.940 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-16 14:06:47.988 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-16 14:06:48.319 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-16 14:06:48.427 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-16 14:06:48.428 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-16 14:06:48.447 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@60662881) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2356be53)
2025-04-16 14:06:48.447 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4c1cd28b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@531f0438)
2025-04-16 14:06:48.447 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2ec1cfa) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@145e9ed2)
2025-04-16 14:06:48.447 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3e7c9e58) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1569736b)
2025-04-16 14:06:48.449 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7700a6f0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@17481ecc)
2025-04-16 14:06:48.449 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4d9ccc23) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@13b01cd0)
2025-04-16 14:06:48.449 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@61751f70) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@369cd3ec)
2025-04-16 14:06:48.449 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1dcafcc8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@e8f253d)
2025-04-16 14:06:48.450 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@47c82503) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@171b9da5)
2025-04-16 14:06:49.467 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-16 14:06:49.480 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 14:06:49.516 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 14:06:49.517 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 14:06:49.519 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 14:06:49.520 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 14:06:49.521 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 14:06:49.521 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 14:06:49.523 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 14:06:49.523 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 14:06:49.525 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 14:06:49.525 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 14:06:49.538 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 14:06:49.542 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 14:06:49.546 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 14:06:49.550 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 14:06:49.555 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 14:06:49.563 [restartedMain] DEBUG org.hibernate.SQL - 
    create table author (
        birth_date date,
        death_date date,
        rating float(53),
        id bigint not null auto_increment,
        biography varchar(255),
        genre_specialization varchar(255),
        name varchar(255) not null,
        patronymic varchar(255),
        surname varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 14:06:49.671 [restartedMain] DEBUG org.hibernate.SQL - 
    create table book (
        pages integer,
        publish_date date,
        rating float(53),
        author_id bigint not null,
        id bigint not null auto_increment,
        description varchar(1000),
        genre varchar(255) not null,
        image_url varchar(255),
        isbn varchar(255),
        language varchar(255) not null,
        publisher varchar(255) not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 14:06:49.711 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favourites (
        book_id bigint not null,
        user_id bigint not null
    ) engine=InnoDB
2025-04-16 14:06:49.745 [restartedMain] DEBUG org.hibernate.SQL - 
    create table log (
        id bigint not null auto_increment,
        file_path varchar(255),
        status varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 14:06:49.779 [restartedMain] DEBUG org.hibernate.SQL - 
    create table reviews (
        rating float(53),
        review_date date,
        book_id bigint not null,
        id bigint not null auto_increment,
        user bigint not null,
        review_text varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 14:06:49.814 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user (
        age integer,
        last_login date,
        registration_date date,
        id bigint not null auto_increment,
        country varchar(255),
        email varchar(255),
        name varchar(255),
        password_hash varchar(255),
        patronymic varchar(255),
        sex varchar(255),
        subscription varchar(255),
        surname varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 14:06:49.846 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint UK_ehpdfjpu1jm3hijhj4mm0hx9h unique (isbn)
2025-04-16 14:06:49.874 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint FKklnrv3weler2ftkweewlky958 
       foreign key (author_id) 
       references author (id)
2025-04-16 14:06:49.975 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKfjwtcjnlme02uvw9b6v1645fr 
       foreign key (book_id) 
       references book (id)
2025-04-16 14:06:50.067 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKay2ai0s7hv0w0o87xt9rs7ava 
       foreign key (user_id) 
       references user (id)
2025-04-16 14:06:50.156 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKgiq1y1159fhcjfigdijlsvdx2 
       foreign key (book_id) 
       references book (id)
2025-04-16 14:06:50.239 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKdiald56kmyvcolq4vl168wqiq 
       foreign key (user) 
       references user (id)
2025-04-16 14:06:50.352 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 14:06:50.624 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-16 14:06:51.168 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-16 14:06:51.592 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-16 14:06:51.612 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-228"]
2025-04-16 14:06:51.627 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 228 (http) with context path ''
2025-04-16 14:06:51.634 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Started WebLibraryApplication in 7.015 seconds (process running for 7.87)
2025-04-16 14:06:51.671 [http-nio-228-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-16 14:06:51.671 [http-nio-228-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-16 14:06:51.672 [http-nio-228-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-04-16 14:06:51.714 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 14:06:51.730 [http-nio-228-exec-1] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 14:06:51.730 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 14:06:51.730 [http-nio-228-exec-1] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 14:06:51.816 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 14:06:51.834 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 14:06:51.837 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 14:06:51.837 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 125 ms
2025-04-16 14:06:51.887 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 14:06:51.888 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 14:06:51.888 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 14:06:51.888 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 14:06:51.888 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 14:06:51.888 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 14:06:52.671 [http-nio-228-exec-10] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 472 ms
2025-04-16 14:07:11.644 [http-nio-228-exec-4] WARN  c.e.w.e.GlobalExceptionHandler - Validation errors: {birthDate=Birth date must be in the past}
2025-04-16 14:07:11.647 [http-nio-228-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.weblibrary.model.dto.AuthorDtoResponse> com.example.weblibrary.controllers.AuthorController.createAuthor(com.example.weblibrary.model.dto.AuthorDtoRequest): [Field error in object 'authorDtoRequest' on field 'birthDate': rejected value [2025-07-11]; codes [Past.authorDtoRequest.birthDate,Past.birthDate,Past.java.time.LocalDate,Past]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [authorDtoRequest.birthDate,birthDate]; arguments []; default message [birthDate]]; default message [Birth date must be in the past]] ]
2025-04-16 14:07:26.656 [http-nio-228-exec-3] WARN  c.e.w.e.GlobalExceptionHandler - Validation errors: {birthDate=Birth date must be in the past}
2025-04-16 14:07:26.657 [http-nio-228-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.weblibrary.model.dto.AuthorDtoResponse> com.example.weblibrary.controllers.AuthorController.createAuthor(com.example.weblibrary.model.dto.AuthorDtoRequest): [Field error in object 'authorDtoRequest' on field 'birthDate': rejected value [2025-07-11]; codes [Past.authorDtoRequest.birthDate,Past.birthDate,Past.java.time.LocalDate,Past]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [authorDtoRequest.birthDate,birthDate]; arguments []; default message [birthDate]]; default message [Birth date must be in the past]] ]
2025-04-16 14:07:38.233 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.createAuthor() with arguments: [AuthorDtoRequest[name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=null, biography=asd, genreSpecialization=asd, rating=2.0]]
2025-04-16 14:07:38.256 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        author
        (biography, birth_date, death_date, genre_specialization, name, patronymic, rating, surname) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 14:07:38.285 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 14:07:38.285 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 14:07:38.285 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.createAuthor() with result: <201 CREATED Created,AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=null, biography=asd, genreSpecialization=asd, rating=2.0],[]>
2025-04-16 14:07:38.287 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.createAuthor() executed in 54 ms
2025-04-16 14:07:38.292 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 14:07:38.292 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 14:07:38.292 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 14:07:38.294 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 14:07:38.300 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 14:07:38.300 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=null, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 14:07:38.301 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 9 ms
2025-04-16 14:07:38.321 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 14:07:38.323 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 14:07:38.323 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 14:07:38.323 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 14:07:38.324 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 14:07:38.324 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 3 ms
2025-04-16 14:07:55.568 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.updateAuthor() with arguments: [1, AuthorDtoRequest[name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=2025-04-15, biography=asd, genreSpecialization=asd, rating=2.0]]
2025-04-16 14:07:55.577 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 14:07:55.593 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.author_id,
        b1_0.id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0 
    where
        b1_0.author_id=?
2025-04-16 14:07:55.602 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    update
        author 
    set
        biography=?,
        birth_date=?,
        death_date=?,
        genre_specialization=?,
        name=?,
        patronymic=?,
        rating=?,
        surname=? 
    where
        id=?
2025-04-16 14:07:55.613 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: Item updated. Key: 1, New Frequency: 2
2025-04-16 14:07:55.614 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 14:07:55.614 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.updateAuthor() with result: <200 OK OK,AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=2025-04-15, biography=asd, genreSpecialization=asd, rating=2.0],[]>
2025-04-16 14:07:55.614 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.updateAuthor() executed in 46 ms
2025-04-16 14:07:55.620 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 14:07:55.620 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 14:07:55.620 [http-nio-228-exec-4] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 14:07:55.622 [http-nio-228-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 14:07:55.623 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 14:07:55.623 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=2025-04-15, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 14:07:55.624 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 4 ms
2025-04-16 14:07:55.652 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 14:07:55.653 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 14:07:55.653 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 4
2025-04-16 14:07:55.653 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 14:07:55.653 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 14:07:55.653 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 14:08:26.444 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.updateAuthor() with arguments: [1, AuthorDtoRequest[name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=2025-04-15, biography=asd, genreSpecialization=asd, rating=2.5]]
2025-04-16 14:08:26.446 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 14:08:26.450 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.author_id,
        b1_0.id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0 
    where
        b1_0.author_id=?
2025-04-16 14:08:26.451 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    update
        author 
    set
        biography=?,
        birth_date=?,
        death_date=?,
        genre_specialization=?,
        name=?,
        patronymic=?,
        rating=?,
        surname=? 
    where
        id=?
2025-04-16 14:08:26.461 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: Item updated. Key: 1, New Frequency: 3
2025-04-16 14:08:26.461 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 14:08:26.461 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.updateAuthor() with result: <200 OK OK,AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=2025-04-15, biography=asd, genreSpecialization=asd, rating=2.5],[]>
2025-04-16 14:08:26.462 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.updateAuthor() executed in 18 ms
2025-04-16 14:08:26.466 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 14:08:26.466 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 14:08:26.466 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 14:08:26.469 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 14:08:26.471 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 14:08:26.471 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2024-11-06, deathDate=2025-04-15, biography=asd, genreSpecialization=asd, rating=2.5]],[]>
2025-04-16 14:08:26.471 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 5 ms
2025-04-16 14:08:26.499 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 14:08:26.500 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 14:08:26.500 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 5
2025-04-16 14:08:26.500 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 14:08:26.500 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 14:08:26.500 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 14:08:46.014 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 14:08:46.015 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 14:08:46.036 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 14:08:46.050 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 14:08:46.062 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 14:08:46.078 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 14:08:46.094 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 14:08:46.120 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 14:08:46.148 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 14:08:46.171 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 14:08:46.194 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 14:08:46.216 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 14:08:46.255 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-16 14:08:46.262 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-16 17:15:30.285 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-04-16 17:15:30.318 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Starting WebLibraryApplication using Java 17.0.14 with PID 9624 (C:\Users\Artem\IdeaProjects\web-library\target\classes started by Artem in C:\Users\Artem\IdeaProjects\web-library)
2025-04-16 17:15:30.318 [restartedMain] DEBUG c.e.weblibrary.WebLibraryApplication - Running with Spring Boot v3.2.4, Spring v6.1.5
2025-04-16 17:15:30.318 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - The following 1 profile is active: "C:\Users\Artem\IdeaProjects\web-library"
2025-04-16 17:15:30.352 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-16 17:15:30.353 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-16 17:15:31.015 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-16 17:15:31.069 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2025-04-16 17:15:31.628 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 228 (http)
2025-04-16 17:15:31.634 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-228"]
2025-04-16 17:15:31.639 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-16 17:15:31.639 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-16 17:15:31.678 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-16 17:15:31.679 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1326 ms
2025-04-16 17:15:31.704 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-16 17:15:31.972 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@32661adf
2025-04-16 17:15:31.973 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-16 17:15:31.980 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/weblibrary'
2025-04-16 17:15:32.078 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-16 17:15:32.135 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-16 17:15:32.166 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-16 17:15:32.375 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-16 17:15:32.439 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-16 17:15:32.440 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-16 17:15:32.453 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3652ca49) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1f965685)
2025-04-16 17:15:32.453 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@27f5f04f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5c5cbe5c)
2025-04-16 17:15:32.454 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7cfc271c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@51737478)
2025-04-16 17:15:32.454 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@598c9191) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@601b6aa2)
2025-04-16 17:15:32.454 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7d42657a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@37d81e1e)
2025-04-16 17:15:32.454 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@ae5116d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@311034e9)
2025-04-16 17:15:32.454 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f97ee04) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@28c83306)
2025-04-16 17:15:32.454 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@a04310b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3a03fbde)
2025-04-16 17:15:32.454 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5a84c554) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@333d8d01)
2025-04-16 17:15:33.238 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-16 17:15:33.249 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 17:15:33.277 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:15:33.279 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 17:15:33.280 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:15:33.281 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 17:15:33.282 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:15:33.283 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 17:15:33.284 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:15:33.284 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 17:15:33.286 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:15:33.286 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 17:15:33.294 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 17:15:33.298 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 17:15:33.302 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 17:15:33.306 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 17:15:33.310 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 17:15:33.317 [restartedMain] DEBUG org.hibernate.SQL - 
    create table author (
        birth_date date,
        death_date date,
        rating float(53),
        id bigint not null auto_increment,
        biography varchar(255),
        genre_specialization varchar(255),
        name varchar(255) not null,
        patronymic varchar(255),
        surname varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:15:33.363 [restartedMain] DEBUG org.hibernate.SQL - 
    create table book (
        pages integer,
        publish_date date,
        rating float(53),
        author_id bigint not null,
        id bigint not null auto_increment,
        description varchar(1000),
        genre varchar(255) not null,
        image_url varchar(255),
        isbn varchar(255),
        language varchar(255) not null,
        publisher varchar(255) not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:15:33.397 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favourites (
        book_id bigint not null,
        user_id bigint not null
    ) engine=InnoDB
2025-04-16 17:15:33.426 [restartedMain] DEBUG org.hibernate.SQL - 
    create table log (
        id bigint not null auto_increment,
        file_path varchar(255),
        status varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:15:33.458 [restartedMain] DEBUG org.hibernate.SQL - 
    create table reviews (
        rating float(53),
        review_date date,
        book_id bigint not null,
        id bigint not null auto_increment,
        user bigint not null,
        review_text varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:15:33.489 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user (
        age integer,
        last_login date,
        registration_date date,
        id bigint not null auto_increment,
        country varchar(255),
        email varchar(255),
        name varchar(255),
        password_hash varchar(255),
        patronymic varchar(255),
        sex varchar(255),
        subscription varchar(255),
        surname varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:15:33.522 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint UK_ehpdfjpu1jm3hijhj4mm0hx9h unique (isbn)
2025-04-16 17:15:33.552 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint FKklnrv3weler2ftkweewlky958 
       foreign key (author_id) 
       references author (id)
2025-04-16 17:15:33.648 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKfjwtcjnlme02uvw9b6v1645fr 
       foreign key (book_id) 
       references book (id)
2025-04-16 17:15:33.733 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKay2ai0s7hv0w0o87xt9rs7ava 
       foreign key (user_id) 
       references user (id)
2025-04-16 17:15:33.823 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKgiq1y1159fhcjfigdijlsvdx2 
       foreign key (book_id) 
       references book (id)
2025-04-16 17:15:33.900 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKdiald56kmyvcolq4vl168wqiq 
       foreign key (user) 
       references user (id)
2025-04-16 17:15:33.988 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 17:15:34.200 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-16 17:15:34.676 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-16 17:15:34.996 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-16 17:15:35.012 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-228"]
2025-04-16 17:15:35.024 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 228 (http) with context path ''
2025-04-16 17:15:35.030 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Started WebLibraryApplication in 5.292 seconds (process running for 6.051)
2025-04-16 17:15:35.080 [http-nio-228-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-16 17:15:35.080 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-16 17:15:35.081 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-16 17:15:35.109 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:15:35.109 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 17:15:35.109 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 17:15:35.173 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 17:15:35.188 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 17:15:35.189 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 17:15:35.190 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 81 ms
2025-04-16 17:15:35.236 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:15:35.236 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 17:15:35.236 [http-nio-228-exec-6] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:15:35.236 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 17:15:35.236 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:15:35.245 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:15:35.261 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:15:35.262 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 17:15:35.262 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 17:15:35.265 [http-nio-228-exec-3] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 17:15:35.268 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 17:15:35.269 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:15:35.269 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 24 ms
2025-04-16 17:15:35.273 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:15:35.274 [http-nio-228-exec-9] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:15:35.274 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 17:15:35.274 [http-nio-228-exec-9] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:15:35.274 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:15:35.274 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:15:35.278 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:15:35.278 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_users
2025-04-16 17:15:35.278 [http-nio-228-exec-5] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is loaded from the database (getAll)
2025-04-16 17:15:35.280 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.country,
        u1_0.email,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.patronymic,
        u1_0.registration_date,
        u1_0.sex,
        u1_0.subscription,
        u1_0.surname 
    from
        user u1_0
2025-04-16 17:15:35.284 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_users
2025-04-16 17:15:35.284 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:15:35.284 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 6 ms
2025-04-16 17:15:35.289 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:15:35.289 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 2
2025-04-16 17:15:35.289 [http-nio-228-exec-2] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:15:35.289 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:15:35.289 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 0 ms
2025-04-16 17:15:53.091 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.createAuthor() with arguments: [AuthorDtoRequest[name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]]
2025-04-16 17:15:53.115 [http-nio-228-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        author
        (biography, birth_date, death_date, genre_specialization, name, patronymic, rating, surname) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:15:53.144 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:15:53.144 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:15:53.144 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.createAuthor() with result: <201 CREATED Created,AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0],[]>
2025-04-16 17:15:53.148 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.createAuthor() executed in 57 ms
2025-04-16 17:15:53.155 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:15:53.155 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 17:15:53.155 [http-nio-228-exec-7] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 17:15:53.156 [http-nio-228-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 17:15:53.164 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 17:15:53.164 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 17:15:53.164 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 9 ms
2025-04-16 17:15:53.195 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:15:53.196 [http-nio-228-exec-8] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:15:53.196 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 17:15:53.196 [http-nio-228-exec-8] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:15:53.196 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:15:53.196 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:15:53.251 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:15:53.252 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 3
2025-04-16 17:15:53.252 [http-nio-228-exec-1] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:15:53.252 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:15:53.252 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:16:25.945 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.createBook() with arguments: [BookDtoRequest[title=asd, publisher=asd, isbn=null, pages=200, genre=asd, publishDate=2025-04-11, language=russian, description=asd, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, rating=null, authorId=1]]
2025-04-16 17:16:25.951 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на создание новой книги
2025-04-16 17:16:25.958 [http-nio-228-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 17:16:25.964 [http-nio-228-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        book
        (author_id, description, genre, image_url, isbn, language, pages, publish_date, publisher, rating, title) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:16:25.972 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:16:25.972 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:16:25.972 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Создана новая книга с ID=1.
2025-04-16 17:16:25.972 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.createBook() with result: <201 CREATED Created,BookDtoResponse[id=1, title=asd, publisher=asd, isbn=null, pages=200, genre=asd, publishDate=2025-04-11, language=russian, description=asd, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 17:16:25.973 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.createBook() executed in 28 ms
2025-04-16 17:16:25.981 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:16:25.982 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 17:16:25.982 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:16:25.982 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 17:16:25.982 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:16:26.024 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:16:26.025 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:16:26.025 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 17:16:26.025 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 17:16:26.029 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 17:16:26.034 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 17:16:26.035 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 17:16:26.035 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=asd, publisher=asd, isbn=null, pages=200, genre=asd, publishDate=2025-04-11, language=russian, description=asd, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]]],[]>
2025-04-16 17:16:26.035 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 11 ms
2025-04-16 17:16:26.065 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:16:26.066 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 4
2025-04-16 17:16:26.066 [http-nio-228-exec-2] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:16:26.066 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:16:26.066 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:17:15.229 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.createUser() with arguments: [UserDtoRequest[id=null, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=1984, The Great Gatsby, email=john.doe@example.com, passwordHash=hashedpassword123A@]]
2025-04-16 17:17:15.232 [http-nio-228-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (age, country, email, last_login, name, password_hash, patronymic, registration_date, sex, subscription, surname) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:17:15.242 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:17:15.243 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:17:15.243 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.createUser() with result: <201 CREATED Created,UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16],[]>
2025-04-16 17:17:15.247 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.createUser() executed in 18 ms
2025-04-16 17:17:20.769 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:17:20.771 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 3
2025-04-16 17:17:20.771 [http-nio-228-exec-6] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:17:20.771 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 17:17:20.772 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 3 ms
2025-04-16 17:17:20.777 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:17:20.777 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 4
2025-04-16 17:17:20.777 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:17:20.777 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 17:17:20.778 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:17:20.780 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:17:20.781 [http-nio-228-exec-9] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:17:20.781 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 17:17:20.781 [http-nio-228-exec-9] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:17:20.781 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=asd, publisher=asd, isbn=null, pages=200, genre=asd, publishDate=2025-04-11, language=russian, description=asd, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]]],[]>
2025-04-16 17:17:20.782 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 2 ms
2025-04-16 17:17:20.786 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:17:20.788 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:17:20.788 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 17:17:20.788 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:17:20.788 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=asd, publisher=asd, isbn=null, pages=200, genre=asd, publishDate=2025-04-11, language=russian, description=asd, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]]],[]>
2025-04-16 17:17:20.789 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 3 ms
2025-04-16 17:17:20.791 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:17:20.791 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_users
2025-04-16 17:17:20.791 [http-nio-228-exec-2] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is loaded from the database (getAll)
2025-04-16 17:17:20.794 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.country,
        u1_0.email,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.patronymic,
        u1_0.registration_date,
        u1_0.sex,
        u1_0.subscription,
        u1_0.surname 
    from
        user u1_0
2025-04-16 17:17:20.796 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_users
2025-04-16 17:17:20.796 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:17:20.796 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 5 ms
2025-04-16 17:17:20.799 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:17:20.800 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 2
2025-04-16 17:17:20.800 [http-nio-228-exec-4] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:17:20.800 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:17:20.800 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:17:27.894 [http-nio-228-exec-10] ERROR c.e.w.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-04-16 17:17:27.907 [http-nio-228-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.]
2025-04-16 17:17:43.255 [http-nio-228-exec-7] ERROR c.e.w.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-04-16 17:17:43.257 [http-nio-228-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.]
2025-04-16 17:18:48.201 [http-nio-228-exec-1] ERROR c.e.w.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-04-16 17:18:48.203 [http-nio-228-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.]
2025-04-16 17:30:31.178 [http-nio-228-exec-6] WARN  c.e.w.e.GlobalExceptionHandler - Validation errors: {imageUrl=Image URL must be valid}
2025-04-16 17:30:31.179 [http-nio-228-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.weblibrary.model.dto.BookDtoResponse> com.example.weblibrary.controllers.BookController.createBook(com.example.weblibrary.model.dto.BookDtoRequest): [Field error in object 'bookDtoRequest' on field 'imageUrl': rejected value [фыв]; codes [URL.bookDtoRequest.imageUrl,URL.imageUrl,URL.java.lang.String,URL]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDtoRequest.imageUrl,imageUrl]; arguments []; default message [imageUrl],[Ljakarta.validation.constraints.Pattern$Flag;@7fea3aeb,,-1,,.*]; default message [Image URL must be valid]] ]
2025-04-16 17:33:22.504 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:33:22.504 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 5
2025-04-16 17:33:22.504 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:33:22.504 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 17:33:22.504 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:33:22.507 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:33:22.508 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 6
2025-04-16 17:33:22.508 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:33:22.508 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]],[]>
2025-04-16 17:33:22.508 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:33:22.520 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:33:22.520 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:33:22.520 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 4
2025-04-16 17:33:22.521 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:33:22.521 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=asd, publisher=asd, isbn=null, pages=200, genre=asd, publishDate=2025-04-11, language=russian, description=asd, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]]],[]>
2025-04-16 17:33:22.521 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:33:22.524 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:33:22.524 [http-nio-228-exec-2] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:33:22.525 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 5
2025-04-16 17:33:22.525 [http-nio-228-exec-2] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:33:22.526 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=asd, publisher=asd, isbn=null, pages=200, genre=asd, publishDate=2025-04-11, language=russian, description=asd, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-02, deathDate=2025-04-10, biography=asd, genreSpecialization=asd, rating=2.0]]],[]>
2025-04-16 17:33:22.526 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 2 ms
2025-04-16 17:33:22.528 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:33:22.528 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 3
2025-04-16 17:33:22.528 [http-nio-228-exec-4] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:33:22.528 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:33:22.528 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 0 ms
2025-04-16 17:33:22.533 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:33:22.534 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 4
2025-04-16 17:33:22.534 [http-nio-228-exec-10] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:33:22.534 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:33:22.534 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:33:34.837 [http-nio-228-exec-7] ERROR c.e.w.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-04-16 17:33:34.838 [http-nio-228-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/books/1/users/1.]
2025-04-16 17:41:30.180 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 17:41:30.184 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 17:41:30.252 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 17:41:30.271 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 17:41:30.291 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 17:41:30.321 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 17:41:30.338 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 17:41:30.366 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 17:41:30.395 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 17:41:30.420 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 17:41:30.475 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 17:41:30.521 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 17:41:30.569 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-16 17:41:30.586 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-16 17:42:19.117 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-04-16 17:42:19.147 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Starting WebLibraryApplication using Java 17.0.14 with PID 9324 (C:\Users\Artem\IdeaProjects\web-library\target\classes started by Artem in C:\Users\Artem\IdeaProjects\web-library)
2025-04-16 17:42:19.148 [restartedMain] DEBUG c.e.weblibrary.WebLibraryApplication - Running with Spring Boot v3.2.4, Spring v6.1.5
2025-04-16 17:42:19.148 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - The following 1 profile is active: "C:\Users\Artem\IdeaProjects\web-library"
2025-04-16 17:42:19.183 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-16 17:42:19.183 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-16 17:42:19.729 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-16 17:42:19.777 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-04-16 17:42:20.231 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 228 (http)
2025-04-16 17:42:20.238 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-228"]
2025-04-16 17:42:20.239 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-16 17:42:20.239 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-16 17:42:20.284 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-16 17:42:20.284 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1101 ms
2025-04-16 17:42:20.308 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-16 17:42:20.549 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24eea3c9
2025-04-16 17:42:20.550 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-16 17:42:20.556 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/weblibrary'
2025-04-16 17:42:20.641 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-16 17:42:20.691 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-16 17:42:20.722 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-16 17:42:20.916 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-16 17:42:20.970 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-16 17:42:20.971 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@41b49f31) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5795bbbf)
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39ad96b4) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3cb14e90)
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@59990320) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@232b13ef)
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@76663908) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40953c9a)
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5104b7ab) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2acb620f)
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6d22b027) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ba20f5)
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@70776626) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1ddb93d)
2025-04-16 17:42:20.984 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@790682a9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2ceea8f4)
2025-04-16 17:42:20.986 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@67e3ad19) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@b9bf489)
2025-04-16 17:42:21.684 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-16 17:42:21.694 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 17:42:21.715 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:42:21.716 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 17:42:21.717 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:42:21.717 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 17:42:21.718 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:42:21.719 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 17:42:21.720 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:42:21.720 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 17:42:21.721 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:42:21.721 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 17:42:21.725 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 17:42:21.729 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 17:42:21.732 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 17:42:21.735 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 17:42:21.738 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 17:42:21.746 [restartedMain] DEBUG org.hibernate.SQL - 
    create table author (
        birth_date date,
        death_date date,
        rating float(53),
        id bigint not null auto_increment,
        biography varchar(255),
        genre_specialization varchar(255),
        name varchar(255) not null,
        patronymic varchar(255),
        surname varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:42:21.777 [restartedMain] DEBUG org.hibernate.SQL - 
    create table book (
        pages integer,
        publish_date date,
        rating float(53),
        author_id bigint not null,
        id bigint not null auto_increment,
        description varchar(1000),
        genre varchar(255) not null,
        image_url varchar(255),
        isbn varchar(255),
        language varchar(255) not null,
        publisher varchar(255) not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:42:21.834 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favourites (
        book_id bigint not null,
        user_id bigint not null
    ) engine=InnoDB
2025-04-16 17:42:21.879 [restartedMain] DEBUG org.hibernate.SQL - 
    create table log (
        id bigint not null auto_increment,
        file_path varchar(255),
        status varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:42:21.912 [restartedMain] DEBUG org.hibernate.SQL - 
    create table reviews (
        rating float(53),
        review_date date,
        book_id bigint not null,
        id bigint not null auto_increment,
        user bigint not null,
        review_text varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:42:21.946 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user (
        age integer,
        last_login date,
        registration_date date,
        id bigint not null auto_increment,
        country varchar(255),
        email varchar(255),
        name varchar(255),
        password_hash varchar(255),
        patronymic varchar(255),
        sex varchar(255),
        subscription varchar(255),
        surname varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:42:21.977 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint UK_ehpdfjpu1jm3hijhj4mm0hx9h unique (isbn)
2025-04-16 17:42:22.003 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint FKklnrv3weler2ftkweewlky958 
       foreign key (author_id) 
       references author (id)
2025-04-16 17:42:22.084 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKfjwtcjnlme02uvw9b6v1645fr 
       foreign key (book_id) 
       references book (id)
2025-04-16 17:42:22.167 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKay2ai0s7hv0w0o87xt9rs7ava 
       foreign key (user_id) 
       references user (id)
2025-04-16 17:42:22.300 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKgiq1y1159fhcjfigdijlsvdx2 
       foreign key (book_id) 
       references book (id)
2025-04-16 17:42:22.376 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKdiald56kmyvcolq4vl168wqiq 
       foreign key (user) 
       references user (id)
2025-04-16 17:42:22.464 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 17:42:22.653 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-16 17:42:23.070 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-16 17:42:23.389 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-16 17:42:23.404 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-228"]
2025-04-16 17:42:23.418 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 228 (http) with context path ''
2025-04-16 17:42:23.425 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Started WebLibraryApplication in 4.687 seconds (process running for 5.165)
2025-04-16 17:42:27.591 [http-nio-228-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-16 17:42:27.591 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-16 17:42:27.593 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-16 17:42:27.619 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:42:27.620 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 17:42:27.620 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 17:42:27.671 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 17:42:27.685 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 17:42:27.686 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 17:42:27.687 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 68 ms
2025-04-16 17:42:27.724 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:42:27.724 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 17:42:27.724 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:42:27.725 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 17:42:27.725 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:42:27.732 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:42:27.746 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:42:27.746 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 17:42:27.746 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 17:42:27.748 [http-nio-228-exec-7] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 17:42:27.750 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 17:42:27.751 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:42:27.751 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 19 ms
2025-04-16 17:42:27.755 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:42:27.755 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:42:27.755 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 17:42:27.755 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:42:27.755 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:42:27.755 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:42:27.757 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:42:27.758 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_users
2025-04-16 17:42:27.758 [http-nio-228-exec-8] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is loaded from the database (getAll)
2025-04-16 17:42:27.759 [http-nio-228-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.country,
        u1_0.email,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.patronymic,
        u1_0.registration_date,
        u1_0.sex,
        u1_0.subscription,
        u1_0.surname 
    from
        user u1_0
2025-04-16 17:42:27.761 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_users
2025-04-16 17:42:27.762 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:42:27.762 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 5 ms
2025-04-16 17:42:27.765 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:42:27.765 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 2
2025-04-16 17:42:27.765 [http-nio-228-exec-6] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:42:27.765 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:42:27.765 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 0 ms
2025-04-16 17:42:39.917 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.createAuthor() with arguments: [AuthorDtoRequest[name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]
2025-04-16 17:42:39.951 [http-nio-228-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        author
        (biography, birth_date, death_date, genre_specialization, name, patronymic, rating, surname) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:42:39.981 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:42:39.981 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:42:39.982 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.createAuthor() with result: <201 CREATED Created,AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5],[]>
2025-04-16 17:42:39.985 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.createAuthor() executed in 68 ms
2025-04-16 17:42:39.993 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:42:39.993 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 17:42:39.993 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 17:42:39.995 [http-nio-228-exec-3] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 17:42:40.003 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 17:42:40.003 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:42:40.003 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 10 ms
2025-04-16 17:42:40.029 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:42:40.029 [http-nio-228-exec-9] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:42:40.029 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 17:42:40.029 [http-nio-228-exec-9] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:42:40.029 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:42:40.030 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:42:40.081 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:42:40.082 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 3
2025-04-16 17:42:40.082 [http-nio-228-exec-10] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:42:40.082 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:42:40.082 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:42:53.703 [http-nio-228-exec-2] WARN  c.e.w.e.GlobalExceptionHandler - Validation errors: {imageUrl=Image URL must be valid}
2025-04-16 17:42:53.710 [http-nio-228-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.weblibrary.model.dto.BookDtoResponse> com.example.weblibrary.controllers.BookController.createBook(com.example.weblibrary.model.dto.BookDtoRequest): [Field error in object 'bookDtoRequest' on field 'imageUrl': rejected value [ASD]; codes [URL.bookDtoRequest.imageUrl,URL.imageUrl,URL.java.lang.String,URL]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [bookDtoRequest.imageUrl,imageUrl]; arguments []; default message [imageUrl],[Ljakarta.validation.constraints.Pattern$Flag;@5d04b46b,,-1,,.*]; default message [Image URL must be valid]] ]
2025-04-16 17:43:19.105 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.createBook() with arguments: [BookDtoRequest[title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, rating=null, authorId=1]]
2025-04-16 17:43:19.116 [http-nio-228-exec-1] INFO  c.e.w.controllers.BookController - Получен запрос на создание новой книги
2025-04-16 17:43:19.133 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 17:43:19.138 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        book
        (author_id, description, genre, image_url, isbn, language, pages, publish_date, publisher, rating, title) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:43:19.146 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:43:19.146 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:43:19.146 [http-nio-228-exec-1] INFO  c.e.w.service.impl.BookServiceImpl - Создана новая книга с ID=1.
2025-04-16 17:43:19.146 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.createBook() with result: <201 CREATED Created,BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:43:19.147 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.createBook() executed in 42 ms
2025-04-16 17:43:19.153 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:43:19.153 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 17:43:19.153 [http-nio-228-exec-7] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:43:19.153 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:43:19.153 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:43:19.197 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:43:19.197 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:43:19.197 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 17:43:19.197 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 17:43:19.200 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 17:43:19.206 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 17:43:19.207 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 17:43:19.208 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:43:19.208 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 11 ms
2025-04-16 17:43:19.234 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:43:19.234 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 4
2025-04-16 17:43:19.234 [http-nio-228-exec-8] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:43:19.234 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[],[]>
2025-04-16 17:43:19.234 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 0 ms
2025-04-16 17:43:31.420 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.createUser() with arguments: [UserDtoRequest[id=null, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=1984, The Great Gatsby, email=john.doe@example.com, passwordHash=hashedpassword123A@]]
2025-04-16 17:43:31.423 [http-nio-228-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        user
        (age, country, email, last_login, name, password_hash, patronymic, registration_date, sex, subscription, surname) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:43:31.435 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:43:31.435 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:43:31.435 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.createUser() with result: <201 CREATED Created,UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16],[]>
2025-04-16 17:43:31.439 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.createUser() executed in 19 ms
2025-04-16 17:43:39.089 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:43:39.089 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 3
2025-04-16 17:43:39.090 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:43:39.090 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:43:39.090 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:43:39.094 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:43:39.095 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 4
2025-04-16 17:43:39.095 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:43:39.095 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:43:39.095 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:43:39.097 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:43:39.097 [http-nio-228-exec-10] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:43:39.097 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 17:43:39.097 [http-nio-228-exec-10] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:43:39.097 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:43:39.097 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:43:39.106 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:43:39.106 [http-nio-228-exec-2] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:43:39.106 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 17:43:39.106 [http-nio-228-exec-2] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:43:39.106 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:43:39.107 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:43:39.107 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:43:39.107 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_users
2025-04-16 17:43:39.107 [http-nio-228-exec-1] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is loaded from the database (getAll)
2025-04-16 17:43:39.109 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.country,
        u1_0.email,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.patronymic,
        u1_0.registration_date,
        u1_0.sex,
        u1_0.subscription,
        u1_0.surname 
    from
        user u1_0
2025-04-16 17:43:39.113 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_users
2025-04-16 17:43:39.113 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:43:39.113 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 6 ms
2025-04-16 17:43:39.116 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:43:39.116 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 2
2025-04-16 17:43:39.116 [http-nio-228-exec-7] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:43:39.116 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:43:39.117 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:43:44.630 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.addBookToUser() with arguments: [1, 1]
2025-04-16 17:43:44.631 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на добавление книги с ID 1 пользователю с ID 1
2025-04-16 17:43:44.634 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0 
    where
        b1_0.id=?
2025-04-16 17:43:44.640 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.age,
        u1_0.country,
        u1_0.email,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.patronymic,
        u1_0.registration_date,
        u1_0.sex,
        u1_0.subscription,
        u1_0.surname 
    from
        user u1_0 
    where
        u1_0.id=?
2025-04-16 17:43:44.649 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.book_id,
        u1_1.id,
        u1_1.age,
        u1_1.country,
        u1_1.email,
        u1_1.last_login,
        u1_1.name,
        u1_1.password_hash,
        u1_1.patronymic,
        u1_1.registration_date,
        u1_1.sex,
        u1_1.subscription,
        u1_1.surname 
    from
        favourites u1_0 
    join
        user u1_1 
            on u1_1.id=u1_0.user_id 
    where
        u1_0.book_id=?
2025-04-16 17:43:44.654 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author_id,
        fb1_1.description,
        fb1_1.genre,
        fb1_1.image_url,
        fb1_1.isbn,
        fb1_1.language,
        fb1_1.pages,
        fb1_1.publish_date,
        fb1_1.publisher,
        fb1_1.rating,
        fb1_1.title 
    from
        favourites fb1_0 
    join
        book fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-04-16 17:43:44.662 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        favourites
        (user_id, book_id) 
    values
        (?, ?)
2025-04-16 17:43:44.672 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Книга с ID 1 добавлена пользователю с ID 1
2025-04-16 17:43:44.672 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.addBookToUser() with result: <200 OK OK,[]>
2025-04-16 17:43:44.672 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.addBookToUser() executed in 42 ms
2025-04-16 17:43:44.679 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:43:44.679 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 5
2025-04-16 17:43:44.679 [http-nio-228-exec-8] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:43:44.679 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:43:44.679 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:43:44.718 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:43:44.718 [http-nio-228-exec-6] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:43:44.719 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 4
2025-04-16 17:43:44.719 [http-nio-228-exec-6] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:43:44.719 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:43:44.719 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:43:44.743 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:43:44.743 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 3
2025-04-16 17:43:44.744 [http-nio-228-exec-4] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:43:44.744 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:43:44.744 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:43:55.670 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:43:55.670 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 6
2025-04-16 17:43:55.671 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:43:55.671 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:43:55.671 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:43:55.673 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:43:55.673 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 7
2025-04-16 17:43:55.673 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:43:55.673 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:43:55.673 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:43:55.675 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:43:55.675 [http-nio-228-exec-10] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:43:55.675 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 5
2025-04-16 17:43:55.675 [http-nio-228-exec-10] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:43:55.675 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:43:55.675 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:43:55.678 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:43:55.679 [http-nio-228-exec-2] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:43:55.679 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 6
2025-04-16 17:43:55.679 [http-nio-228-exec-2] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:43:55.679 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:43:55.680 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 2 ms
2025-04-16 17:43:55.683 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:43:55.684 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 4
2025-04-16 17:43:55.684 [http-nio-228-exec-1] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:43:55.684 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:43:55.684 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 1 ms
2025-04-16 17:43:55.688 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: UserController.getAllUsers() with arguments: []
2025-04-16 17:43:55.688 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_users, New Frequency: 5
2025-04-16 17:43:55.688 [http-nio-228-exec-7] INFO  c.e.w.service.impl.UserServiceImpl - Data for the user is obtained from the cache (getAll)
2025-04-16 17:43:55.688 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: UserController.getAllUsers() with result: <200 OK OK,[UserDtoResponse[id=1, name=John, surname=Doe, patronymic=Smith, age=100, subscription=Premium, sex=MALE, country=USA, favoriteBooks=null, email=john.doe@example.com, passwordHash=hashedpassword123A@, registrationDate=2025-04-16, lastLogin=2025-04-16]],[]>
2025-04-16 17:43:55.688 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method UserController.getAllUsers() executed in 0 ms
2025-04-16 17:44:44.025 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:44:44.025 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 8
2025-04-16 17:44:44.025 [http-nio-228-exec-8] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:44:44.025 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:44:44.026 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:44:44.029 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:44:44.029 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 9
2025-04-16 17:44:44.029 [http-nio-228-exec-6] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:44:44.029 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]],[]>
2025-04-16 17:44:44.029 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:44:44.033 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:44:44.034 [http-nio-228-exec-4] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:44:44.034 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 7
2025-04-16 17:44:44.034 [http-nio-228-exec-4] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:44:44.034 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:44:44.034 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:44:44.036 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:44:44.036 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:44:44.036 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 8
2025-04-16 17:44:44.036 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:44:44.036 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=dfgh, publisher=ASASD, isbn=null, pages=100, genre=gfd, publishDate=2025-04-09, language=ASD, description=ASD, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=asd, surname=asd, patronymic=asd, birthDate=2025-04-10, deathDate=null, biography=asd, genreSpecialization=asd, rating=1.5]]],[]>
2025-04-16 17:44:44.036 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:45:34.537 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 17:45:34.537 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 17:45:34.560 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 17:45:34.571 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 17:45:34.580 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 17:45:34.592 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 17:45:34.602 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 17:45:34.621 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 17:45:34.642 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 17:45:34.663 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 17:45:34.685 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 17:45:34.706 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 17:45:34.731 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-16 17:45:34.737 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-16 17:45:38.432 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-04-16 17:45:38.458 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Starting WebLibraryApplication using Java 17.0.14 with PID 31808 (C:\Users\Artem\IdeaProjects\web-library\target\classes started by Artem in C:\Users\Artem\IdeaProjects\web-library)
2025-04-16 17:45:38.459 [restartedMain] DEBUG c.e.weblibrary.WebLibraryApplication - Running with Spring Boot v3.2.4, Spring v6.1.5
2025-04-16 17:45:38.459 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - The following 1 profile is active: "C:\Users\Artem\IdeaProjects\web-library"
2025-04-16 17:45:38.490 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-16 17:45:38.490 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-16 17:45:39.005 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-16 17:45:39.049 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2025-04-16 17:45:39.476 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 228 (http)
2025-04-16 17:45:39.482 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-228"]
2025-04-16 17:45:39.483 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-16 17:45:39.483 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-16 17:45:39.520 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-16 17:45:39.521 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1029 ms
2025-04-16 17:45:39.543 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-16 17:45:39.715 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f1ce1db
2025-04-16 17:45:39.716 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-16 17:45:39.724 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/weblibrary'
2025-04-16 17:45:39.805 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-16 17:45:39.841 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-16 17:45:39.865 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-16 17:45:40.024 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-16 17:45:40.065 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-16 17:45:40.066 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@64d4d548) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@59f28452)
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@37ea994d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3082c01b)
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@723e2dd6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3f23f7d7)
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5ce0218f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7a44a010)
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@79177213) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@59aabfa9)
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@49b114a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5b0075e9)
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@19c50370) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@151eb016)
2025-04-16 17:45:40.078 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@49d3e2be) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@11a46950)
2025-04-16 17:45:40.079 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@20cb3697) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40b5bc98)
2025-04-16 17:45:40.681 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-16 17:45:40.690 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 17:45:40.712 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:45:40.713 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 17:45:40.714 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:45:40.715 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 17:45:40.716 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:45:40.716 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 17:45:40.717 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:45:40.717 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 17:45:40.718 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 17:45:40.719 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 17:45:40.723 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 17:45:40.727 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 17:45:40.730 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 17:45:40.733 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 17:45:40.737 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 17:45:40.743 [restartedMain] DEBUG org.hibernate.SQL - 
    create table author (
        birth_date date,
        death_date date,
        rating float(53),
        id bigint not null auto_increment,
        biography varchar(255),
        genre_specialization varchar(255),
        name varchar(255) not null,
        patronymic varchar(255),
        surname varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:45:40.773 [restartedMain] DEBUG org.hibernate.SQL - 
    create table book (
        pages integer,
        publish_date date,
        rating float(53),
        author_id bigint not null,
        id bigint not null auto_increment,
        description varchar(1000),
        genre varchar(255) not null,
        image_url varchar(255),
        isbn varchar(255),
        language varchar(255) not null,
        publisher varchar(255) not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:45:40.802 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favourites (
        book_id bigint not null,
        user_id bigint not null
    ) engine=InnoDB
2025-04-16 17:45:40.830 [restartedMain] DEBUG org.hibernate.SQL - 
    create table log (
        id bigint not null auto_increment,
        file_path varchar(255),
        status varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:45:40.857 [restartedMain] DEBUG org.hibernate.SQL - 
    create table reviews (
        rating float(53),
        review_date date,
        book_id bigint not null,
        id bigint not null auto_increment,
        user bigint not null,
        review_text varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:45:40.885 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user (
        age integer,
        last_login date,
        registration_date date,
        id bigint not null auto_increment,
        country varchar(255),
        email varchar(255),
        name varchar(255),
        password_hash varchar(255),
        patronymic varchar(255),
        sex varchar(255),
        subscription varchar(255),
        surname varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 17:45:40.919 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint UK_ehpdfjpu1jm3hijhj4mm0hx9h unique (isbn)
2025-04-16 17:45:40.946 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint FKklnrv3weler2ftkweewlky958 
       foreign key (author_id) 
       references author (id)
2025-04-16 17:45:41.035 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKfjwtcjnlme02uvw9b6v1645fr 
       foreign key (book_id) 
       references book (id)
2025-04-16 17:45:41.112 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKay2ai0s7hv0w0o87xt9rs7ava 
       foreign key (user_id) 
       references user (id)
2025-04-16 17:45:41.194 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKgiq1y1159fhcjfigdijlsvdx2 
       foreign key (book_id) 
       references book (id)
2025-04-16 17:45:41.273 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKdiald56kmyvcolq4vl168wqiq 
       foreign key (user) 
       references user (id)
2025-04-16 17:45:41.363 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 17:45:41.555 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-16 17:45:41.964 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-16 17:45:42.277 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-16 17:45:42.297 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-228"]
2025-04-16 17:45:42.308 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 228 (http) with context path ''
2025-04-16 17:45:42.314 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Started WebLibraryApplication in 4.211 seconds (process running for 4.62)
2025-04-16 17:45:53.919 [http-nio-228-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-16 17:45:53.919 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-16 17:45:53.921 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-16 17:45:53.972 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:45:53.972 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 17:45:53.972 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 17:45:54.058 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 17:45:54.081 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 17:45:54.083 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 17:45:54.084 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 113 ms
2025-04-16 17:45:54.145 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:45:54.146 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 17:45:54.146 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:45:54.146 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 17:45:54.146 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:45:54.157 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:45:54.178 [http-nio-228-exec-2] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:45:54.178 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 17:45:54.179 [http-nio-228-exec-2] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 17:45:54.183 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 17:45:54.187 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 17:45:54.188 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:45:54.188 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 31 ms
2025-04-16 17:45:54.193 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:45:54.193 [http-nio-228-exec-4] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:45:54.193 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 17:45:54.193 [http-nio-228-exec-4] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:45:54.193 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:45:54.193 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:46:19.216 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.createAuthor() with arguments: [AuthorDtoRequest[name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]
2025-04-16 17:46:19.242 [http-nio-228-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        author
        (biography, birth_date, death_date, genre_specialization, name, patronymic, rating, surname) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:46:19.269 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:46:19.269 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:46:19.269 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.createAuthor() with result: <201 CREATED Created,AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0],[]>
2025-04-16 17:46:19.272 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.createAuthor() executed in 56 ms
2025-04-16 17:46:19.280 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:46:19.280 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 17:46:19.280 [http-nio-228-exec-7] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 17:46:19.282 [http-nio-228-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 17:46:19.288 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 17:46:19.288 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]],[]>
2025-04-16 17:46:19.288 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 9 ms
2025-04-16 17:46:19.318 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:46:19.318 [http-nio-228-exec-8] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:46:19.318 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 17:46:19.318 [http-nio-228-exec-8] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:46:19.319 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 17:46:19.319 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:46:58.561 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.createBook() with arguments: [BookDtoRequest[title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, rating=null, authorId=1]]
2025-04-16 17:46:58.566 [http-nio-228-exec-1] INFO  c.e.w.controllers.BookController - Получен запрос на создание новой книги
2025-04-16 17:46:58.573 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 17:46:58.578 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        book
        (author_id, description, genre, image_url, isbn, language, pages, publish_date, publisher, rating, title) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 17:46:58.587 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 17:46:58.587 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:46:58.587 [http-nio-228-exec-1] INFO  c.e.w.service.impl.BookServiceImpl - Создана новая книга с ID=1.
2025-04-16 17:46:58.587 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.createBook() with result: <201 CREATED Created,BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]],[]>
2025-04-16 17:46:58.588 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.createBook() executed in 27 ms
2025-04-16 17:46:58.595 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:46:58.595 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 17:46:58.595 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:46:58.595 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]],[]>
2025-04-16 17:46:58.595 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:46:58.637 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:46:58.637 [http-nio-228-exec-2] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:46:58.637 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 17:46:58.638 [http-nio-228-exec-2] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 17:46:58.639 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 17:46:58.644 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 17:46:58.646 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 17:46:58.646 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:46:58.646 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 9 ms
2025-04-16 17:47:09.650 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.updateAuthor() with arguments: [1, AuthorDtoRequest[name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]]
2025-04-16 17:47:09.652 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 17:47:09.663 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.author_id,
        b1_0.id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0 
    where
        b1_0.author_id=?
2025-04-16 17:47:09.669 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.rating,
        r1_0.review_date,
        r1_0.review_text,
        r1_0.user 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-04-16 17:47:09.676 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    update
        author 
    set
        biography=?,
        birth_date=?,
        death_date=?,
        genre_specialization=?,
        name=?,
        patronymic=?,
        rating=?,
        surname=? 
    where
        id=?
2025-04-16 17:47:09.683 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    delete 
    from
        book 
    where
        id=?
2025-04-16 17:47:09.693 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: Item updated. Key: 1, New Frequency: 2
2025-04-16 17:47:09.693 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 17:47:09.693 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.updateAuthor() with result: <200 OK OK,AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4],[]>
2025-04-16 17:47:09.693 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.updateAuthor() executed in 43 ms
2025-04-16 17:47:09.698 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:47:09.699 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 17:47:09.699 [http-nio-228-exec-6] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 17:47:09.700 [http-nio-228-exec-6] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 17:47:09.702 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 17:47:09.703 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:47:09.703 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 5 ms
2025-04-16 17:47:09.733 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:47:09.734 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:47:09.734 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 17:47:09.734 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:47:09.734 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:47:09.734 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:49:47.350 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:49:47.350 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 17:49:47.350 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:49:47.350 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:49:47.351 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:49:47.354 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:49:47.354 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 3
2025-04-16 17:49:47.354 [http-nio-228-exec-10] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:49:47.354 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:49:47.354 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:49:47.365 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:49:47.365 [http-nio-228-exec-1] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:49:47.365 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 17:49:47.365 [http-nio-228-exec-1] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:49:47.366 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:49:47.366 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 2 ms
2025-04-16 17:49:47.371 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:49:47.371 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:49:47.371 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 4
2025-04-16 17:49:47.371 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:49:47.372 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:49:47.372 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:49:47.429 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:49:47.430 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 4
2025-04-16 17:49:47.430 [http-nio-228-exec-2] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:49:47.430 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:49:47.430 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:49:47.433 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:49:47.433 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 5
2025-04-16 17:49:47.433 [http-nio-228-exec-4] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:49:47.433 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:49:47.433 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:49:47.436 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:49:47.437 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:49:47.437 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 5
2025-04-16 17:49:47.437 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:49:47.437 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:49:47.437 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:49:47.440 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:49:47.441 [http-nio-228-exec-6] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:49:47.441 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 6
2025-04-16 17:49:47.441 [http-nio-228-exec-6] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:49:47.441 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:49:47.441 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:53:15.999 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:53:15.999 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 6
2025-04-16 17:53:15.999 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:53:15.999 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:53:15.999 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:53:16.002 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:53:16.002 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 7
2025-04-16 17:53:16.002 [http-nio-228-exec-10] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:53:16.002 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:53:16.002 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:53:16.010 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:53:16.011 [http-nio-228-exec-1] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:53:16.011 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 7
2025-04-16 17:53:16.011 [http-nio-228-exec-1] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:53:16.011 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:53:16.012 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 2 ms
2025-04-16 17:53:16.015 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:53:16.015 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:53:16.015 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 8
2025-04-16 17:53:16.015 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:53:16.015 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:53:16.015 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:54:47.771 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:54:47.771 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 8
2025-04-16 17:54:47.771 [http-nio-228-exec-5] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:54:47.771 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:54:47.772 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:54:47.775 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:54:47.775 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 9
2025-04-16 17:54:47.775 [http-nio-228-exec-6] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:54:47.775 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:54:47.775 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:54:47.783 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:54:47.783 [http-nio-228-exec-8] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:54:47.783 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 9
2025-04-16 17:54:47.783 [http-nio-228-exec-8] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:54:47.783 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:54:47.783 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:54:47.785 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:54:47.785 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:54:47.785 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 10
2025-04-16 17:54:47.785 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:54:47.785 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:54:47.786 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:55:37.603 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:55:37.604 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 10
2025-04-16 17:55:37.604 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:55:37.604 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:55:37.604 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:55:37.607 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:55:37.607 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 11
2025-04-16 17:55:37.607 [http-nio-228-exec-10] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:55:37.607 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:55:37.607 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:55:37.613 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:55:37.613 [http-nio-228-exec-1] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:55:37.613 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 11
2025-04-16 17:55:37.613 [http-nio-228-exec-1] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:55:37.613 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:55:37.613 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 17:55:37.616 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:55:37.617 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:55:37.617 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 12
2025-04-16 17:55:37.617 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:55:37.617 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:55:37.617 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:58:11.077 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:58:11.077 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 12
2025-04-16 17:58:11.078 [http-nio-228-exec-5] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:58:11.078 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:58:11.078 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:58:11.080 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:58:11.080 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 13
2025-04-16 17:58:11.080 [http-nio-228-exec-6] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:58:11.080 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:58:11.081 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:58:11.084 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:58:11.084 [http-nio-228-exec-8] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:58:11.085 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 13
2025-04-16 17:58:11.085 [http-nio-228-exec-8] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:58:11.085 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:58:11.085 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:58:11.088 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:58:11.089 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:58:11.089 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 14
2025-04-16 17:58:11.089 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:58:11.089 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:58:11.089 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:58:19.212 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:58:19.212 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 14
2025-04-16 17:58:19.212 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:58:19.212 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:58:19.212 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 17:58:19.215 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 17:58:19.216 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 15
2025-04-16 17:58:19.216 [http-nio-228-exec-10] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 17:58:19.216 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 17:58:19.216 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 17:58:19.221 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:58:19.221 [http-nio-228-exec-1] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:58:19.221 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 15
2025-04-16 17:58:19.221 [http-nio-228-exec-1] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:58:19.221 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:58:19.222 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 17:58:19.226 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 17:58:19.226 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 17:58:19.226 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 16
2025-04-16 17:58:19.226 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 17:58:19.226 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 17:58:19.226 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 18:05:10.366 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 18:05:10.367 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 16
2025-04-16 18:05:10.367 [http-nio-228-exec-5] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 18:05:10.367 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 18:05:10.367 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 18:05:10.371 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 18:05:10.371 [http-nio-228-exec-6] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 17
2025-04-16 18:05:10.371 [http-nio-228-exec-6] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 18:05:10.371 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.4]],[]>
2025-04-16 18:05:10.371 [http-nio-228-exec-6] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 18:05:10.379 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 18:05:10.379 [http-nio-228-exec-8] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 18:05:10.379 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 17
2025-04-16 18:05:10.379 [http-nio-228-exec-8] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 18:05:10.379 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 18:05:10.379 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 18:05:10.382 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 18:05:10.382 [http-nio-228-exec-7] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 18:05:10.382 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 18
2025-04-16 18:05:10.382 [http-nio-228-exec-7] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 18:05:10.382 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=АЛИСА В СТРАНЕ ЧУДЕС, publisher=ПАЙ ПАВЙ , isbn=null, pages=200, genre=ХУЙ ЕГО ЗНАЕТ , publishDate=2025-04-12, language=ВРОДЕ РУССКИЙ , description=КЛАССНАЯ ДЕВОЧКА , imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=САНЯ, surname=ПУШКИН, patronymic=СЕРГЕО, birthDate=2025-04-03, deathDate=2025-04-15, biography=КЛАССНЫЙ, genreSpecialization=РОМАНТИК, rating=4.0]]],[]>
2025-04-16 18:05:10.382 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 0 ms
2025-04-16 18:05:32.882 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 18:05:32.887 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 18:05:32.926 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 18:05:32.939 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 18:05:32.952 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 18:05:32.966 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 18:05:32.980 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 18:05:33.003 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 18:05:33.025 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 18:05:33.048 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 18:05:33.072 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 18:05:33.093 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 18:05:33.134 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-16 18:05:33.160 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-16 20:18:45.960 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-04-16 20:18:46.008 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Starting WebLibraryApplication using Java 17.0.14 with PID 5636 (C:\Users\Artem\IdeaProjects\web-library\target\classes started by Artem in C:\Users\Artem\IdeaProjects\web-library)
2025-04-16 20:18:46.009 [restartedMain] DEBUG c.e.weblibrary.WebLibraryApplication - Running with Spring Boot v3.2.4, Spring v6.1.5
2025-04-16 20:18:46.009 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - The following 1 profile is active: "C:\Users\Artem\IdeaProjects\web-library"
2025-04-16 20:18:46.065 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-16 20:18:46.066 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-16 20:18:47.081 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-16 20:18:47.131 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2025-04-16 20:18:47.765 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 228 (http)
2025-04-16 20:18:47.776 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-228"]
2025-04-16 20:18:47.777 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-16 20:18:47.777 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-16 20:18:47.830 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-16 20:18:47.830 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1764 ms
2025-04-16 20:18:47.861 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-16 20:18:48.218 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@60913728
2025-04-16 20:18:48.219 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-16 20:18:48.225 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/weblibrary'
2025-04-16 20:18:48.327 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-16 20:18:48.384 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-16 20:18:48.416 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-16 20:18:48.641 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-16 20:18:48.701 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-16 20:18:48.702 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-16 20:18:48.715 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@21af6b7f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2225f3b7)
2025-04-16 20:18:48.715 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@94409aa) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@29b7c31d)
2025-04-16 20:18:48.715 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7319b1c7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e2c5c58)
2025-04-16 20:18:48.715 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@578c036e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40349da9)
2025-04-16 20:18:48.715 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7e9d9be1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@624fd6f6)
2025-04-16 20:18:48.715 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@556f2ea2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@31d22873)
2025-04-16 20:18:48.715 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2382ff3b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3fe665db)
2025-04-16 20:18:48.716 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@13d056bb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@33e16502)
2025-04-16 20:18:48.716 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7ae3f62) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@bea4af1)
2025-04-16 20:18:49.479 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-16 20:18:49.490 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 20:18:49.528 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 20:18:49.530 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 20:18:49.532 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 20:18:49.532 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 20:18:49.534 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 20:18:49.534 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 20:18:49.536 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 20:18:49.536 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 20:18:49.538 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 20:18:49.539 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 20:18:49.548 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 20:18:49.553 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 20:18:49.556 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 20:18:49.559 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 20:18:49.562 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 20:18:49.569 [restartedMain] DEBUG org.hibernate.SQL - 
    create table author (
        birth_date date,
        death_date date,
        rating float(53),
        id bigint not null auto_increment,
        biography varchar(255),
        genre_specialization varchar(255),
        name varchar(255) not null,
        patronymic varchar(255),
        surname varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 20:18:49.635 [restartedMain] DEBUG org.hibernate.SQL - 
    create table book (
        pages integer,
        publish_date date,
        rating float(53),
        author_id bigint not null,
        id bigint not null auto_increment,
        description varchar(1000),
        genre varchar(255) not null,
        image_url varchar(255),
        isbn varchar(255),
        language varchar(255) not null,
        publisher varchar(255) not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 20:18:49.669 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favourites (
        book_id bigint not null,
        user_id bigint not null
    ) engine=InnoDB
2025-04-16 20:18:49.696 [restartedMain] DEBUG org.hibernate.SQL - 
    create table log (
        id bigint not null auto_increment,
        file_path varchar(255),
        status varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 20:18:49.727 [restartedMain] DEBUG org.hibernate.SQL - 
    create table reviews (
        rating float(53),
        review_date date,
        book_id bigint not null,
        id bigint not null auto_increment,
        user bigint not null,
        review_text varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 20:18:49.760 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user (
        age integer,
        last_login date,
        registration_date date,
        id bigint not null auto_increment,
        country varchar(255),
        email varchar(255),
        name varchar(255),
        password_hash varchar(255),
        patronymic varchar(255),
        sex varchar(255),
        subscription varchar(255),
        surname varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 20:18:49.796 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint UK_ehpdfjpu1jm3hijhj4mm0hx9h unique (isbn)
2025-04-16 20:18:49.837 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint FKklnrv3weler2ftkweewlky958 
       foreign key (author_id) 
       references author (id)
2025-04-16 20:18:49.933 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKfjwtcjnlme02uvw9b6v1645fr 
       foreign key (book_id) 
       references book (id)
2025-04-16 20:18:50.076 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKay2ai0s7hv0w0o87xt9rs7ava 
       foreign key (user_id) 
       references user (id)
2025-04-16 20:18:50.212 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKgiq1y1159fhcjfigdijlsvdx2 
       foreign key (book_id) 
       references book (id)
2025-04-16 20:18:50.292 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKdiald56kmyvcolq4vl168wqiq 
       foreign key (user) 
       references user (id)
2025-04-16 20:18:50.380 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 20:18:50.622 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-16 20:18:51.151 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-16 20:18:51.605 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-16 20:18:51.631 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-228"]
2025-04-16 20:18:51.649 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 228 (http) with context path ''
2025-04-16 20:18:51.656 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Started WebLibraryApplication in 6.475 seconds (process running for 7.247)
2025-04-16 20:19:13.105 [http-nio-228-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-16 20:19:13.106 [http-nio-228-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-16 20:19:13.107 [http-nio-228-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-04-16 20:19:13.137 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.createLogFile() with arguments: []
2025-04-16 20:19:13.142 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.createLogFile() with result: java.util.concurrent.CompletableFuture@233277f5[Not completed]
2025-04-16 20:19:13.142 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.createLogFile() executed in 6 ms
2025-04-16 20:19:13.171 [ForkJoinPool.commonPool-worker-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        log
        (file_path, status) 
    values
        (?, ?)
2025-04-16 20:19:17.869 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-16 20:19:17.902 [http-nio-228-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-16 20:19:17.918 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@5c32410e,[]>
2025-04-16 20:19:17.920 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 51 ms
2025-04-16 20:19:21.152 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-16 20:19:21.154 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-16 20:19:21.156 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@1e70d15a,[]>
2025-04-16 20:19:21.156 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 4 ms
2025-04-16 20:19:22.423 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-16 20:19:22.425 [http-nio-228-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-16 20:19:22.427 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@7c30917d,[]>
2025-04-16 20:19:22.428 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 6 ms
2025-04-16 20:19:23.214 [ForkJoinPool.commonPool-worker-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-16 20:19:23.220 [ForkJoinPool.commonPool-worker-1] DEBUG org.hibernate.SQL - 
    update
        log 
    set
        file_path=?,
        status=? 
    where
        id=?
2025-04-16 20:19:23.399 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogStatus() with arguments: [1]
2025-04-16 20:19:23.400 [http-nio-228-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-16 20:19:23.403 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogStatus() with result: <200 OK OK,com.example.weblibrary.model.dto.LogDto@6ebbd17c,[]>
2025-04-16 20:19:23.403 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogStatus() executed in 4 ms
2025-04-16 20:19:27.778 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: LogController.getLogFile() with arguments: [1]
2025-04-16 20:19:27.780 [http-nio-228-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.id,
        l1_0.file_path,
        l1_0.status 
    from
        log l1_0 
    where
        l1_0.id=?
2025-04-16 20:19:27.782 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: LogController.getLogFile() with result: <200 OK OK,file [C:\Users\Artem\IdeaProjects\web-library\logs\application-log-1-20250416-201923.txt],[Content-Type:"text/plain", Content-Disposition:"attachment; filename="application-log-1-20250416-201923.txt""]>
2025-04-16 20:19:27.782 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method LogController.getLogFile() executed in 4 ms
2025-04-16 20:20:11.191 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 20:20:11.192 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 20:20:11.211 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 20:20:11.226 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 20:20:11.238 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 20:20:11.250 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 20:20:11.260 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 20:20:11.282 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 20:20:11.307 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 20:20:11.327 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 20:20:11.346 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 20:20:11.368 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 20:20:11.392 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-16 20:20:11.398 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-04-16 21:19:16.026 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-04-16 21:19:16.080 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Starting WebLibraryApplication using Java 17.0.14 with PID 27608 (C:\Users\Artem\IdeaProjects\web-library\target\classes started by Artem in C:\Users\Artem\IdeaProjects\web-library)
2025-04-16 21:19:16.081 [restartedMain] DEBUG c.e.weblibrary.WebLibraryApplication - Running with Spring Boot v3.2.4, Spring v6.1.5
2025-04-16 21:19:16.082 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - The following 1 profile is active: "C:\Users\Artem\IdeaProjects\web-library"
2025-04-16 21:19:16.179 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-04-16 21:19:16.181 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-04-16 21:19:17.810 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-16 21:19:17.982 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 162 ms. Found 5 JPA repository interfaces.
2025-04-16 21:19:19.480 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 228 (http)
2025-04-16 21:19:19.500 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-228"]
2025-04-16 21:19:19.506 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-04-16 21:19:19.506 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-16 21:19:19.743 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-04-16 21:19:19.743 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3560 ms
2025-04-16 21:19:19.811 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-04-16 21:19:20.285 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6cf3eccb
2025-04-16 21:19:20.286 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-04-16 21:19:20.293 [restartedMain] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/weblibrary'
2025-04-16 21:19:20.417 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-16 21:19:20.505 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-16 21:19:20.581 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-04-16 21:19:21.104 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-16 21:19:21.217 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-16 21:19:21.219 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-16 21:19:21.248 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@578c036e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@40349da9)
2025-04-16 21:19:21.248 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7e9d9be1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@624fd6f6)
2025-04-16 21:19:21.248 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@556f2ea2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@31d22873)
2025-04-16 21:19:21.248 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2382ff3b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3fe665db)
2025-04-16 21:19:21.249 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@13d056bb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@33e16502)
2025-04-16 21:19:21.249 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7ae3f62) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@bea4af1)
2025-04-16 21:19:21.249 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1a9eb0b9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@226f1f9d)
2025-04-16 21:19:21.249 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@544c719d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@d281427)
2025-04-16 21:19:21.249 [restartedMain] DEBUG o.h.t.d.sql.spi.DdlTypeRegistry - addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@625c7643) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@38151e62)
2025-04-16 21:19:22.472 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-16 21:19:22.500 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 21:19:22.553 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958" via JDBC [Table 'weblibrary.book' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.book' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 21:19:22.555 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 21:19:22.559 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 21:19:22.559 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 21:19:22.561 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava" via JDBC [Table 'weblibrary.favourites' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.favourites' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 21:19:22.563 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 21:19:22.565 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 21:19:22.565 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 21:19:22.567 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq" via JDBC [Table 'weblibrary.reviews' doesn't exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:470)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:244)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1234)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.example.weblibrary.WebLibraryApplication.main(WebLibraryApplication.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLSyntaxErrorException: Table 'weblibrary.reviews' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 45 common frames omitted
2025-04-16 21:19:22.569 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 21:19:22.579 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 21:19:22.585 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 21:19:22.591 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 21:19:22.596 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 21:19:22.602 [restartedMain] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 21:19:22.614 [restartedMain] DEBUG org.hibernate.SQL - 
    create table author (
        birth_date date,
        death_date date,
        rating float(53),
        id bigint not null auto_increment,
        biography varchar(255),
        genre_specialization varchar(255),
        name varchar(255) not null,
        patronymic varchar(255),
        surname varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 21:19:22.677 [restartedMain] DEBUG org.hibernate.SQL - 
    create table book (
        pages integer,
        publish_date date,
        rating float(53),
        author_id bigint not null,
        id bigint not null auto_increment,
        description varchar(1000),
        genre varchar(255) not null,
        image_url varchar(255),
        isbn varchar(255),
        language varchar(255) not null,
        publisher varchar(255) not null,
        title varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-04-16 21:19:22.728 [restartedMain] DEBUG org.hibernate.SQL - 
    create table favourites (
        book_id bigint not null,
        user_id bigint not null
    ) engine=InnoDB
2025-04-16 21:19:22.780 [restartedMain] DEBUG org.hibernate.SQL - 
    create table log (
        id bigint not null auto_increment,
        file_path varchar(255),
        status varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 21:19:22.828 [restartedMain] DEBUG org.hibernate.SQL - 
    create table reviews (
        rating float(53),
        review_date date,
        book_id bigint not null,
        id bigint not null auto_increment,
        user bigint not null,
        review_text varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 21:19:22.878 [restartedMain] DEBUG org.hibernate.SQL - 
    create table user (
        age integer,
        last_login date,
        registration_date date,
        id bigint not null auto_increment,
        country varchar(255),
        email varchar(255),
        name varchar(255),
        password_hash varchar(255),
        patronymic varchar(255),
        sex varchar(255),
        subscription varchar(255),
        surname varchar(255),
        primary key (id)
    ) engine=InnoDB
2025-04-16 21:19:22.925 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint UK_ehpdfjpu1jm3hijhj4mm0hx9h unique (isbn)
2025-04-16 21:19:22.974 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table book 
       add constraint FKklnrv3weler2ftkweewlky958 
       foreign key (author_id) 
       references author (id)
2025-04-16 21:19:23.103 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKfjwtcjnlme02uvw9b6v1645fr 
       foreign key (book_id) 
       references book (id)
2025-04-16 21:19:23.284 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table favourites 
       add constraint FKay2ai0s7hv0w0o87xt9rs7ava 
       foreign key (user_id) 
       references user (id)
2025-04-16 21:19:23.448 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKgiq1y1159fhcjfigdijlsvdx2 
       foreign key (book_id) 
       references book (id)
2025-04-16 21:19:23.617 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table reviews 
       add constraint FKdiald56kmyvcolq4vl168wqiq 
       foreign key (user) 
       references user (id)
2025-04-16 21:19:23.810 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 21:19:24.300 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-04-16 21:19:25.116 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-16 21:19:25.812 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-04-16 21:19:25.845 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-228"]
2025-04-16 21:19:25.880 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 228 (http) with context path ''
2025-04-16 21:19:25.892 [restartedMain] INFO  c.e.weblibrary.WebLibraryApplication - Started WebLibraryApplication in 10.678 seconds (process running for 11.895)
2025-04-16 21:19:27.704 [http-nio-228-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-16 21:19:27.704 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-04-16 21:19:27.706 [http-nio-228-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-04-16 21:19:27.778 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 21:19:27.779 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 21:19:27.780 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 21:19:27.920 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 21:19:27.954 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 21:19:27.956 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 21:19:27.957 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 180 ms
2025-04-16 21:19:28.066 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 21:19:28.067 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 21:19:28.067 [http-nio-228-exec-2] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 21:19:28.067 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[],[]>
2025-04-16 21:19:28.067 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 1 ms
2025-04-16 21:19:28.089 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 21:19:28.132 [http-nio-228-exec-3] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 21:19:28.133 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 21:19:28.133 [http-nio-228-exec-3] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 21:19:28.139 [http-nio-228-exec-3] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 21:19:28.145 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 21:19:28.147 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 21:19:28.148 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 59 ms
2025-04-16 21:19:28.157 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 21:19:28.158 [http-nio-228-exec-4] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 21:19:28.158 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 21:19:28.158 [http-nio-228-exec-4] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 21:19:28.158 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 21:19:28.159 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 2 ms
2025-04-16 21:19:52.898 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.createAuthor() with arguments: [AuthorDtoRequest[name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]]
2025-04-16 21:19:52.934 [http-nio-228-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        author
        (biography, birth_date, death_date, genre_specialization, name, patronymic, rating, surname) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 21:19:52.969 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 21:19:52.969 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 21:19:52.969 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.createAuthor() with result: <201 CREATED Created,AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1],[]>
2025-04-16 21:19:52.972 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.createAuthor() executed in 74 ms
2025-04-16 21:19:52.983 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 21:19:52.983 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 21:19:52.983 [http-nio-228-exec-9] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 21:19:52.985 [http-nio-228-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 21:19:52.993 [http-nio-228-exec-9] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 21:19:52.994 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]],[]>
2025-04-16 21:19:52.994 [http-nio-228-exec-9] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 11 ms
2025-04-16 21:19:53.023 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 21:19:53.024 [http-nio-228-exec-10] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 21:19:53.024 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 3
2025-04-16 21:19:53.024 [http-nio-228-exec-10] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 21:19:53.024 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[],[]>
2025-04-16 21:19:53.024 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 1 ms
2025-04-16 21:20:06.228 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.createBook() with arguments: [BookDtoRequest[title=фыв, publisher=фыв, isbn=null, pages=150, genre=фыв, publishDate=2025-04-10, language=фыв, description=фыв, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, rating=null, authorId=1]]
2025-04-16 21:20:06.233 [http-nio-228-exec-2] INFO  c.e.w.controllers.BookController - Получен запрос на создание новой книги
2025-04-16 21:20:06.242 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 21:20:06.249 [http-nio-228-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        book
        (author_id, description, genre, image_url, isbn, language, pages, publish_date, publisher, rating, title) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-04-16 21:20:06.257 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: 1
2025-04-16 21:20:06.257 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 21:20:06.257 [http-nio-228-exec-2] INFO  c.e.w.service.impl.BookServiceImpl - Создана новая книга с ID=1.
2025-04-16 21:20:06.258 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.createBook() with result: <201 CREATED Created,BookDtoResponse[id=1, title=фыв, publisher=фыв, isbn=null, pages=150, genre=фыв, publishDate=2025-04-10, language=фыв, description=фыв, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]],[]>
2025-04-16 21:20:06.258 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.createBook() executed in 30 ms
2025-04-16 21:20:06.266 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 21:20:06.266 [http-nio-228-exec-3] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 2
2025-04-16 21:20:06.266 [http-nio-228-exec-3] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 21:20:06.266 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]],[]>
2025-04-16 21:20:06.266 [http-nio-228-exec-3] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 0 ms
2025-04-16 21:20:06.312 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 21:20:06.313 [http-nio-228-exec-4] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 21:20:06.313 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 21:20:06.313 [http-nio-228-exec-4] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 21:20:06.316 [http-nio-228-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 21:20:06.323 [http-nio-228-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 21:20:06.326 [http-nio-228-exec-4] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 21:20:06.326 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=фыв, publisher=фыв, isbn=null, pages=150, genre=фыв, publishDate=2025-04-10, language=фыв, description=фыв, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]]],[]>
2025-04-16 21:20:06.327 [http-nio-228-exec-4] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 15 ms
2025-04-16 21:20:14.787 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.updateBook() with arguments: [1, BookDtoRequest[title=фккк, publisher=фыв, isbn=null, pages=150, genre=фыв, publishDate=2025-04-10, language=фыв, description=фыв, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, rating=null, authorId=1]]
2025-04-16 21:20:14.789 [http-nio-228-exec-5] INFO  c.e.w.controllers.BookController - Получен запрос на обновление книги с ID: 1
2025-04-16 21:20:14.792 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0 
    where
        b1_0.id=?
2025-04-16 21:20:14.799 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 21:20:14.814 [http-nio-228-exec-5] DEBUG org.hibernate.SQL - 
    update
        book 
    set
        author_id=?,
        description=?,
        genre=?,
        image_url=?,
        isbn=?,
        language=?,
        pages=?,
        publish_date=?,
        publisher=?,
        rating=?,
        title=? 
    where
        id=?
2025-04-16 21:20:14.825 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: Item updated. Key: 1, New Frequency: 2
2025-04-16 21:20:14.826 [http-nio-228-exec-5] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 21:20:14.826 [http-nio-228-exec-5] INFO  c.e.w.service.impl.BookServiceImpl - Обновлена книга с ID=1.
2025-04-16 21:20:14.826 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.updateBook() with result: <200 OK OK,BookDtoResponse[id=1, title=фккк, publisher=фыв, isbn=null, pages=150, genre=фыв, publishDate=2025-04-10, language=фыв, description=фыв, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]],[]>
2025-04-16 21:20:14.827 [http-nio-228-exec-5] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.updateBook() executed in 40 ms
2025-04-16 21:20:14.833 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 21:20:14.834 [http-nio-228-exec-7] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_authors, New Frequency: 3
2025-04-16 21:20:14.834 [http-nio-228-exec-7] INFO  c.e.w.service.impl.AuthorServiceImpl - Author data loaded from cache (getAll)
2025-04-16 21:20:14.834 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]],[]>
2025-04-16 21:20:14.835 [http-nio-228-exec-7] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 2 ms
2025-04-16 21:20:14.883 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 21:20:14.883 [http-nio-228-exec-8] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 21:20:14.883 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_books
2025-04-16 21:20:14.883 [http-nio-228-exec-8] INFO  c.e.w.service.impl.BookServiceImpl - Загрузка всех книг из базы данных.
2025-04-16 21:20:14.885 [http-nio-228-exec-8] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author_id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0
2025-04-16 21:20:14.890 [http-nio-228-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 21:20:14.892 [http-nio-228-exec-8] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_books
2025-04-16 21:20:14.893 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=фккк, publisher=фыв, isbn=null, pages=150, genre=фыв, publishDate=2025-04-10, language=фыв, description=фыв, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]]],[]>
2025-04-16 21:20:14.893 [http-nio-228-exec-8] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 10 ms
2025-04-16 21:20:20.099 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.updateAuthor() with arguments: [1, AuthorDtoRequest[name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]]
2025-04-16 21:20:20.103 [http-nio-228-exec-10] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0 
    where
        a1_0.id=?
2025-04-16 21:20:20.115 [http-nio-228-exec-10] DEBUG org.hibernate.SQL - 
    select
        b1_0.author_id,
        b1_0.id,
        b1_0.description,
        b1_0.genre,
        b1_0.image_url,
        b1_0.isbn,
        b1_0.language,
        b1_0.pages,
        b1_0.publish_date,
        b1_0.publisher,
        b1_0.rating,
        b1_0.title 
    from
        book b1_0 
    where
        b1_0.author_id=?
2025-04-16 21:20:20.120 [http-nio-228-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.rating,
        r1_0.review_date,
        r1_0.review_text,
        r1_0.user 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-04-16 21:20:20.127 [http-nio-228-exec-10] DEBUG org.hibernate.SQL - 
    delete 
    from
        book 
    where
        id=?
2025-04-16 21:20:20.139 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: Item updated. Key: 1, New Frequency: 2
2025-04-16 21:20:20.139 [http-nio-228-exec-10] INFO  c.e.w.service.cache.SimpleCache - 🗑 LFU Cache: Cache cleared.
2025-04-16 21:20:20.139 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.updateAuthor() with result: <200 OK OK,AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1],[]>
2025-04-16 21:20:20.139 [http-nio-228-exec-10] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.updateAuthor() executed in 40 ms
2025-04-16 21:20:20.148 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: AuthorController.getAllAuthors() with arguments: []
2025-04-16 21:20:20.148 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ⭕ LFU Cache: Item NOT found. Key: all_authors
2025-04-16 21:20:20.148 [http-nio-228-exec-1] INFO  c.e.w.service.impl.AuthorServiceImpl - Data for the author is loaded from the database (getAll)
2025-04-16 21:20:20.151 [http-nio-228-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.biography,
        a1_0.birth_date,
        a1_0.death_date,
        a1_0.genre_specialization,
        a1_0.name,
        a1_0.patronymic,
        a1_0.rating,
        a1_0.surname 
    from
        author a1_0
2025-04-16 21:20:20.155 [http-nio-228-exec-1] INFO  c.e.w.service.cache.SimpleCache - ❗ LFU Cache: New item added. Key: all_authors
2025-04-16 21:20:20.155 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: AuthorController.getAllAuthors() with result: <200 OK OK,[AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]],[]>
2025-04-16 21:20:20.155 [http-nio-228-exec-1] INFO  c.e.w.aspect.ControllerLoggingAspect - Method AuthorController.getAllAuthors() executed in 7 ms
2025-04-16 21:20:20.188 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method called: BookController.getBooks() with arguments: [null]
2025-04-16 21:20:20.188 [http-nio-228-exec-2] INFO  c.e.w.controllers.BookController - Получен запрос на получение всех книг.
2025-04-16 21:20:20.188 [http-nio-228-exec-2] INFO  c.e.w.service.cache.SimpleCache - ❗LFU Cache: Item found. Key: all_books, New Frequency: 2
2025-04-16 21:20:20.188 [http-nio-228-exec-2] INFO  c.e.w.service.impl.BookServiceImpl - Получены все книги из кэша.
2025-04-16 21:20:20.189 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Controller method completed: BookController.getBooks() with result: <200 OK OK,[BookDtoResponse[id=1, title=фккк, publisher=фыв, isbn=null, pages=150, genre=фыв, publishDate=2025-04-10, language=фыв, description=фыв, imageUrl=https://avatars.mds.yandex.net/i?id=a51c3d3a415cc5ebbe255b4d64d4576f1e0e699f-4745534-images-thumbs&n=13, author=AuthorDtoResponse[id=1, name=фыв, surname=фыв, patronymic=фыв, birthDate=2025-01-01, deathDate=2025-04-09, biography=фыв, genreSpecialization=фыв, rating=2.1]]],[]>
2025-04-16 21:20:20.189 [http-nio-228-exec-2] INFO  c.e.w.aspect.ControllerLoggingAspect - Method BookController.getBooks() executed in 2 ms
2025-04-16 21:20:50.928 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-16 21:20:50.928 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table book 
       drop 
       foreign key FKklnrv3weler2ftkweewlky958
2025-04-16 21:20:50.946 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKfjwtcjnlme02uvw9b6v1645fr
2025-04-16 21:20:50.959 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table favourites 
       drop 
       foreign key FKay2ai0s7hv0w0o87xt9rs7ava
2025-04-16 21:20:50.973 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKgiq1y1159fhcjfigdijlsvdx2
2025-04-16 21:20:50.985 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    alter table reviews 
       drop 
       foreign key FKdiald56kmyvcolq4vl168wqiq
2025-04-16 21:20:50.999 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists author
2025-04-16 21:20:51.020 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists book
2025-04-16 21:20:51.040 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists favourites
2025-04-16 21:20:51.060 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists log
2025-04-16 21:20:51.080 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reviews
2025-04-16 21:20:51.101 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists user
2025-04-16 21:20:51.130 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-04-16 21:20:51.139 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
